curl -fsSL https://pkgs.tailscale.com/stable/debian/bookworm.noarmor.gpg | sudo tee /usr/share/keyrings/tailscale-archive-keyring.gpg > /dev/null

vscode ➜ /workspace/docuwrite (main) $ curl -fsSL https://pkgs.tailscale.com/stable/debian/bookworm.tailscale-keyring.list | sudo tee /etc/apt/sources.list.d/tailscale.list
# Tailscale packages for debian bookworm
deb [signed-by=/usr/share/keyrings/tailscale-archive-keyring.gpg] https://pkgs.tailscale.com/stable/debian bookworm main
vscode ➜ /workspace/docuwrite (main) $ sudo apt-get update
Get:1 http://deb.debian.org/debian bookworm InRelease [151 kB]
Get:2 https://packages.microsoft.com/repos/azure-cli bookworm InRelease [3576 B]
Get:3 https://dl.yarnpkg.com/debian stable InRelease [17.1 kB]
Get:4 http://deb.debian.org/debian bookworm-updates InRelease [55.4 kB]
Get:5 https://pkgs.tailscale.com/stable/debian bookworm InRelease
Get:6 https://packages.microsoft.com/repos/azure-cli bookworm/main arm64 Packages [1599 B]
Get:7 http://deb.debian.org/debian-security bookworm-security InRelease [48.0 kB]
Get:8 https://dl.yarnpkg.com/debian stable/main all Packages [10.9 kB]
Get:9 http://deb.debian.org/debian bookworm/main arm64 Packages [8688 kB]
Get:10 https://dl.yarnpkg.com/debian stable/main arm64 Packages [10.9 kB]
Get:11 https://pkgs.tailscale.com/stable/debian bookworm/main arm64 Packages [11.7 kB]
Get:12 https://pkgs.tailscale.com/stable/debian bookworm/main all Packages [354 B]
Get:13 http://deb.debian.org/debian bookworm-updates/main arm64 Packages [2468 B]
Get:14 http://deb.debian.org/debian-security bookworm-security/main arm64 Packages [201 kB]
Fetched 9209 kB in 4s (2455 kB/s)
Reading package lists... Done
vscode ➜ /workspace/docuwrite (main) $ sudo apt-get install tailscale
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
The following additional packages will be installed:
  iptables libip4tc2 libip6tc2 libnetfilter-conntrack3 libnfnetlink0 libnftables1 libnftnl11 nftables tailscale-archive-keyring
Suggested packages:
  firewalld kmod
The following NEW packages will be installed:
  iptables libip4tc2 libip6tc2 libnetfilter-conntrack3 libnfnetlink0 libnftables1 libnftnl11 nftables tailscale tailscale-archive-keyring
0 upgraded, 10 newly installed, 0 to remove and 0 not upgraded.
Need to get 28.2 MB of archives.
After this operation, 62.3 MB of additional disk space will be used.
Do you want to continue? [Y/n] y
Get:1 http://deb.debian.org/debian bookworm/main arm64 libnftnl11 arm64 1.2.4-2 [57.6 kB]
Get:2 http://deb.debian.org/debian bookworm/main arm64 libnftables1 arm64 1.0.6-2+deb12u2 [276 kB]
Get:3 http://deb.debian.org/debian bookworm/main arm64 nftables arm64 1.0.6-2+deb12u2 [70.0 kB]
Get:4 http://deb.debian.org/debian bookworm/main arm64 libip4tc2 arm64 1.8.9-2 [18.5 kB]
Get:5 http://deb.debian.org/debian bookworm/main arm64 libip6tc2 arm64 1.8.9-2 [18.7 kB]
Get:6 http://deb.debian.org/debian bookworm/main arm64 libnfnetlink0 arm64 1.0.2-2 [14.5 kB]
Get:7 http://deb.debian.org/debian bookworm/main arm64 libnetfilter-conntrack3 arm64 1.0.9-3 [38.4 kB]
Get:8 http://deb.debian.org/debian bookworm/main arm64 iptables arm64 1.8.9-2 [352 kB]
Get:10 https://pkgs.tailscale.com/stable/debian bookworm/main all tailscale-archive-keyring all 1.35.181 [3082 B]
Get:9 https://pkgs.tailscale.com/stable/debian bookworm/main arm64 tailscale arm64 1.76.6 [27.3 MB]
Fetched 28.2 MB in 6s (4450 kB/s)
Selecting previously unselected package libnftnl11:arm64.
(Reading database ... 65138 files and directories currently installed.)
Preparing to unpack .../0-libnftnl11_1.2.4-2_arm64.deb ...
Unpacking libnftnl11:arm64 (1.2.4-2) ...
Selecting previously unselected package libnftables1:arm64.
Preparing to unpack .../1-libnftables1_1.0.6-2+deb12u2_arm64.deb ...
Unpacking libnftables1:arm64 (1.0.6-2+deb12u2) ...
Selecting previously unselected package nftables.
Preparing to unpack .../2-nftables_1.0.6-2+deb12u2_arm64.deb ...
Unpacking nftables (1.0.6-2+deb12u2) ...
Selecting previously unselected package libip4tc2:arm64.
Preparing to unpack .../3-libip4tc2_1.8.9-2_arm64.deb ...
Unpacking libip4tc2:arm64 (1.8.9-2) ...
Selecting previously unselected package libip6tc2:arm64.
Preparing to unpack .../4-libip6tc2_1.8.9-2_arm64.deb ...
Unpacking libip6tc2:arm64 (1.8.9-2) ...
Selecting previously unselected package libnfnetlink0:arm64.
Preparing to unpack .../5-libnfnetlink0_1.0.2-2_arm64.deb ...
Unpacking libnfnetlink0:arm64 (1.0.2-2) ...
Selecting previously unselected package libnetfilter-conntrack3:arm64.
Preparing to unpack .../6-libnetfilter-conntrack3_1.0.9-3_arm64.deb ...
Unpacking libnetfilter-conntrack3:arm64 (1.0.9-3) ...
Selecting previously unselected package iptables.
Preparing to unpack .../7-iptables_1.8.9-2_arm64.deb ...
Unpacking iptables (1.8.9-2) ...
Selecting previously unselected package tailscale.
Preparing to unpack .../8-tailscale_1.76.6_arm64.deb ...
Unpacking tailscale (1.76.6) ...
Selecting previously unselected package tailscale-archive-keyring.
Preparing to unpack .../9-tailscale-archive-keyring_1.35.181_all.deb ...
Unpacking tailscale-archive-keyring (1.35.181) ...
Setting up libip4tc2:arm64 (1.8.9-2) ...
Setting up tailscale-archive-keyring (1.35.181) ...
Setting up libip6tc2:arm64 (1.8.9-2) ...
Setting up libnftnl11:arm64 (1.2.4-2) ...
Setting up libnfnetlink0:arm64 (1.0.2-2) ...
Setting up libnftables1:arm64 (1.0.6-2+deb12u2) ...
Setting up nftables (1.0.6-2+deb12u2) ...
Setting up libnetfilter-conntrack3:arm64 (1.0.9-3) ...
Setting up iptables (1.8.9-2) ...
update-alternatives: using /usr/sbin/iptables-legacy to provide /usr/sbin/iptables (iptables) in auto mode
update-alternatives: using /usr/sbin/ip6tables-legacy to provide /usr/sbin/ip6tables (ip6tables) in auto mode
update-alternatives: using /usr/sbin/iptables-nft to provide /usr/sbin/iptables (iptables) in auto mode
update-alternatives: using /usr/sbin/ip6tables-nft to provide /usr/sbin/ip6tables (ip6tables) in auto mode
update-alternatives: using /usr/sbin/arptables-nft to provide /usr/sbin/arptables (arptables) in auto mode
update-alternatives: using /usr/sbin/ebtables-nft to provide /usr/sbin/ebtables (ebtables) in auto mode
Setting up tailscale (1.76.6) ...
Processing triggers for man-db (2.11.2-2) ...
Processing triggers for libc-bin (2.36-9+deb12u9) ...
vscode ➜ /workspace/docuwrite (main) $ sudo tailscaled --state=/var/lib/tailscale/tailscaled.state --socket=/var/run/tailscale/tailscaled.sock &
[1] 8797
vscode ➜ /workspace/docuwrite (main) $ logtail started
Program starting: v1.76.6-t1edcf9d46-gd0a6cd8b2, Go 1.23.1: []string{"tailscaled", "--state=/var/lib/tailscale/tailscaled.state", "--socket=/var/run/tailscale/tailscaled.sock"}
LogID: 3566b8e20e6b2dfbd17f0bd32f6f478ecd405b027564293d000716d381e18044
logpolicy: using system state directory "/var/lib/tailscale"
logpolicy.ConfigFromFile /var/lib/tailscale/tailscaled.log.conf: open /var/lib/tailscale/tailscaled.log.conf: no such file or directory
logpolicy.Config.Validate for /var/lib/tailscale/tailscaled.log.conf: config is nil
dns: [rc=unknown ret=direct]
dns: using "direct" mode
dns: using *dns.directManager
wgengine.NewUserspaceEngine(tun "tailscale0") ...
dns: [rc=unknown ret=direct]
dns: using "direct" mode
dns: using *dns.directManager
link state: interfaces.State{defaultRoute=eth0 ifs={eth0:[10.88.0.63/16 llu6]} v4=true v6=false}
onPortUpdate(port=42823, network=udp6)
router: using firewall mode pref
router: default choosing iptables
router: netfilter running in iptables mode v6 = true, v6filter = true, v6nat = true
onPortUpdate(port=45428, network=udp4)
magicsock: disco key = d:206751b81f69d538
Creating WireGuard device...
Bringing WireGuard device up...
Bringing router up...
external route: up
Clearing router settings...
Starting network monitor...
Engine created.
monitor: [unexpected] network state changed, but stringification didn't: interfaces.State{defaultRoute=eth0 ifs={eth0:[10.88.0.63/16 llu6]} v4=true v6=false}
monitor: [unexpected] old: {"InterfaceIPs":{"eth0":["10.88.0.63/16","fe80::9c5c:9ff:feb9:f31c/64"],"lo":["127.0.0.1/8","::1/128"]},"Interface":{"eth0":{"Index":2,"MTU":1500,"Name":"eth0","HardwareAddr":"nlwJufMc","Flags":51,"AltAddrs":null,"Desc":""},"lo":{"Index":1,"MTU":65536,"Name":"lo","HardwareAddr":null,"Flags":37,"AltAddrs":null,"Desc":""}},"HaveV6":false,"HaveV4":true,"IsExpensive":false,"DefaultRouteInterface":"eth0","HTTPProxy":"","PAC":""}
monitor: [unexpected] new: {"InterfaceIPs":{"eth0":["10.88.0.63/16","fe80::9c5c:9ff:feb9:f31c/64"],"lo":["127.0.0.1/8","::1/128"],"tailscale0":["fe80::eb77:92bf:5e2d:8ff4/64"]},"Interface":{"eth0":{"Index":2,"MTU":1500,"Name":"eth0","HardwareAddr":"nlwJufMc","Flags":51,"AltAddrs":null,"Desc":""},"lo":{"Index":1,"MTU":65536,"Name":"lo","HardwareAddr":null,"Flags":37,"AltAddrs":null,"Desc":""},"tailscale0":{"Index":3,"MTU":1280,"Name":"tailscale0","HardwareAddr":null,"Flags":57,"AltAddrs":null,"Desc":""}},"HaveV6":false,"HaveV4":true,"IsExpensive":false,"DefaultRouteInterface":"eth0","HTTPProxy":"","PAC":""}
LinkChange: major, rebinding. New state: interfaces.State{defaultRoute=eth0 ifs={eth0:[10.88.0.63/16 llu6]} v4=true v6=false}
pm: migrating "_daemon" profile to new format
logpolicy: using system state directory "/var/lib/tailscale"
got LocalBackend in 102ms
Start
onPortUpdate(port=42823, network=udp6)
onPortUpdate(port=45428, network=udp4)
Rebind; defIf="eth0", ips=[10.88.0.63/16 fe80::9c5c:9ff:feb9:f31c/64]
magicsock: 0 active derp conns
monitor: gateway and self IP changed: gw=10.88.0.1 self=10.88.0.63
Backend: logs: be:3566b8e20e6b2dfbd17f0bd32f6f478ecd405b027564293d000716d381e18044 fe:
Switching ipn state NoState -> NeedsLogin (WantRunning=false, nm=false)
blockEngineUpdates(true)
health(warnable=wantrunning-false): error: Tailscale is stopped.
wgengine: Reconfig: configuring userspace WireGuard config (with 0/0 peers)
wgengine: Reconfig: configuring router
wgengine: Reconfig: configuring DNS
dns: Set: {DefaultResolvers:[] Routes:{} SearchDomains:[] Hosts:0}
dns: Resolvercfg: {Routes:{} Hosts:0 LocalDomains:[]}
dns: OScfg: {}



sudo tailscale up --exit-node=devdontainerproxy
